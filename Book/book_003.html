<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>연습3</title>
    <style>
        /* .on {
            background-color: #bcc;
        } */

        /* div{
            display: flex;
            justify-content: center;
            align-items:center;
        }
        #one{
            width: 400px;
            height: 300px;
            background-color: rgb(14, 130, 146);
        }
        #two{
            width: 300px;
            height: 200px;
            background-color: black;
        }
        #three{
            width: 200px;
            height: 100px;
            background-color: red;
        }

---------------------------------------------------------------------------

        section{
            height: 600px;
        }
        section:nth-child(1){
            background-color: #0077ff;
        }
        section:nth-child(2){
            background-color: #4ea0ff;
        }
        section:nth-child(3){
            background-color: #84bdff;
        }
        section:nth-child(4){
            background-color: #c0ddff;
        }

---------------------------------------------------------------------------

        #link{
            font-size: 30px;
            text-decoration: none;
            color: #00df1e;
        } 

---------------------------------------------------------------------------





*/
     

    </style>
</head>

    <!-- <div id="content"></div>
    <ul>
        <li class="item on">1</li>
        <li class="item">2</li>
        <li class="item">3</li>
        <li class="item">4</li>
    </ul> -->

    <!--최초의 리스트는 비어있다.-->
    <!-- <ul id = "list">  </ul>

    <button id="alertBtn">버튼</button> -->

<body>
    <!-- <div id="one">
        <div id="two">
            <div id="three">
            </div>
        </div>
    </div> -->

<script>

//----------이벤트 전달과정---------------------------------------------

    // document.querySelector("#one").addEventListener("click", (e)=>{
    //     console.log("one");
    // });
    // document.querySelector("#two").addEventListener("click", (e)=>{
    //     console.log("two");
    // });
    // document.querySelector("#three").addEventListener("click", (e)=>{
    //     console.log("three");
    // });

    // 가운데가 three인데 three를 누르면 one, two, three가 모두 나온다.
    // DOM에서의 이벤트 전달 시스템과 관련이 있다고 한다.
    // 자바스크립트는 이벤트가 발생한 이벤트의 처리가 끝나면 부모한테 이벤트가 넘어간다고 한다.
    // html 최상단까지 계속 일어난다.
    // 이러한 것을 이벤트 버블링이라고 한다.
    // 이러한 전파를 막고 하위 요소가 클릭되었을 때 해당 요소만 이벤트를 처리하기 위한 코드를 밑에 작성했다.

//----------------------------------------------------------------------------

    // document.querySelector("#one").addEventListener("click", (e)=>{
    //   if(e.target.id == "one"){
    //     console.log("one");
    //   }
    // });
    // document.querySelector("#two").addEventListener("click", (e)=>{
    //     if(e.target.id == "two"){
    //     console.log("two");
    //   }
    // });
    // document.querySelector("#three").addEventListener("click", (e)=>{
    //     if(e.target.id == "three"){
    //     console.log("three");
    //   }
    // });
    
    // 위 코드는 one을 누르면 one이 콘솔에 출력되고 
    // two를 누르면 two가 콘솔에 출력되고
    // three를 누르면 three가 출력이 된다.

//-------------------------------------------------------------------------------------------- 

        // document.querySelectorAll("div").forEach(x => {
        //     x.addEventListener("click", e =>{
        //         console.log(e.target.id);
        //         e.stopPropagation();
        //     });
        // });

        //위 코드와 동일한 기능을 수행하지만 훨씬 짧고 깔끔하게 작성되었다.
        //qureySelectorAll로 배열로 가져와 모든 div에 대한 click이벤트 리스너를 달아주고 
        //해당 아이디를 출력하게 한것이다.
        //stopPropagation기능을 호출하면 이벤트 발생 이후로는 전파가 되지 않게 된다.

//--------------------------------------------------------------------------------------------    

    // document.querySelector("#one").addEventListener("click", (e)=>{
    //     console.log("one");
    //     console.log(e.target, e.currentTarget);
    // });
    // document.querySelector("#two").addEventListener("click", (e)=>{
    //     console.log("two");
    //     console.log(e.target, e.currentTarget);
    // });
    // document.querySelector("#three").addEventListener("click", (e)=>{
    //     console.log("three");
    //     console.log(e.target, e.currentTarget);
    // });
    // one를 클릭하면 one만 콘솔에 출력이 된다.
    // two를 클릭하면 two와 one을 출력한다.
    // three를 클릭하면 one two three가 출력된다.
    // 안에서부터 순서대로 출력이 된다.

//-------classList관리하기---------------------------------------

        // let first = document.querySelector("ul .item:nth-child(1)");
        // first.classList.remove("on");
        // let second = document.querySelector("ul .item:nth-child(2)");
        // second.classList.add("on");

        //li에 on클래스가 있어서 원래대로라면 첫 번째 리스트 아이템이 파란색으로 변해야하는데
        // JS코드에 의해서 첫번째 아이템은 remove로 클래스가 빠졌고 
        // 두번째 item은 add로 인해서 on 클래스가 추가됨. 이 때문에 2번 아이템에 파란색 배경이 생겼다.
        
        //-------DOM생성하기---------------------------------------

        // let list = document.querySelector("#item");

        // for(let i = 0; i < 10; i++){
        //     let li = document.createElement("li");
        //     li.innerHTML = "아이템" + i;
        //     list.appendChild(li); 
        // }

        // 아이템0 ~ 아이템9 까지 출력된다.
        //var element = document.createElement(tagName[, options]); 형식으로 작동된다.


//--------버튼 이벤트 작성하기------------------------------------------

        // let btn = document.querySelector("#alertBtn");
        // btn.addEventListener("click", function(e){
        //     alert("버튼 클릭");
        // });
        //버튼 누르면 메시지창 뜸

        //target.addEventListener(type, listener[, options]);
        //target.addEventListener(type, listener[, useCapture]); 이런 형식이 있다.
        // (type, listener[, options]) type는 이벤트의 타입이다. 위 코드에서는 'click'를 사용했다.
        // listener은 이벤트가 발생핬을 때 실행할 함수이다.
        // 이때 파라미터로는 event 객체가 들어오게 된다.
        // 위 코드에서는 e라는 변수가 event 객체이다.
        // 이벤트 객체에는 이벤트에 관련되 여러 가지 정보가 담겨있다.
        // 3번째 파라미터는 option 오브젝트를 넘기거나 true, false로 이벤트 캡쳐 여부를 보낼 수 있다.
        // 옵션 종류는 capture, once, passive가 있다. 옵션을 지정하지 않으면 전부 false로 넘어간다.

//----------capture 옵션 (capture:true)----------------------------------------------------------------------------------  

            // document.querySelectorAll("div").forEach(x => {
            //     x.addEventListener("click", e => {
            //         console.log(e.currentTarget.id);
            //     }, { capture:true});
            // });

            // 앞에서의 코드들은 three > two > one 의 순서였지만
            // capture 옵션을 true로 주어서
            // one > two > three의 순서로 출력이 된다.
            //  

//----------capture 옵션 (once:true)----------------------------------------------------------------------------------  
                
            // document.querySelectorAll("div").forEach(x => {
            //     x.addEventListener("click", e =>{
            //         console.log(e.currentTarget.id);
            //     }, {capture:true, once:true});
            // });

            //once 옵션을 주어서 1회 이벤트 처리후 해당 이벤트 리스너가 사라진다.
            // 보통 네트워크에서 데이터를 받아오는 처리 등에서 
            // 중복적으로 데이터가 요정되지 않도록 하는 버튼에 사용한다.
            
</script>

    <!-- <section>1</section>
    <section>2</section>
    <section>3</section>
    <section>4</section> -->

<script>

//------passive 옵션 (passive : false)-----------------------------------------------------
        // window.addEventListener("mousewheel", e =>{
        //     let list = [];
        //     console.log("wheel");
        //     for(let i = 0; i < list.length; i++){
        //       for(let j = 0; j < list.length; j++){
        //         let temp = list[i];
        //         list[i] = list[j];
        //         list[j] = temp;
        //       }
        //     }
        //     console.timeEnd("wheel");
        // }, {passive:false});
        // windwo.addEventListener("scroll", e =>{
        //     let list = [];
        //     console.time("scroll");
        //     for(let i = 0; i < 100000; i++){
        //         list.push(i);
        //     }
        //     for(let i = 0 ; i < list.length; i++){
        //         for(let j = 0; j < list.length; j++){
        //             let temp = list[i];
        //             list[i] = list[j];
        //             list[j] = temp;
        //         }
        //     }
        //     console.timeEnd("scroll");
        // }), {passive:false};

        // scroll이나 wheel모두 하지 않으면 둘 중 하나가 동작하기 때문에 scroll과 wheel 모두에 오버헤드 를 넣었다.
        // 스크롤시에 동작이 끝나지 않으면 스크롤이 이루어질 수 없기 때문에 스크롤이 멈춘다.
        //여기서 passive값만 true로 변경해주면 스크롤은 정상적으로 이루어진다.
        // 현재 크롬 55+ 부터는 body와 window의 스크롤은 개본적으로 passive가 true로 설정되어 있다.
</script>


    <!-- <a id="link" href="http://ww.naver.com">네이버</a> -->


<script>
//------------이벤트 기본 동작의 방지------------------------------------------

            // document.querySelector("#link").addEventListener("click", e => {
            //     e.preventDefault();
            //     console.log("기본 동작을 방지하고 이 동작이 실행됩니다.");
            // });

            //네이버를 클릭하면 콘솔창에 "기본 동작을 방지하고 이 동작이 실행됩니다." 라고 출력이되고 
            // a테그의 동작을 실해되지 않는다. (그 네이버로 이동하지 않는다고잉..에 그렇습니다.)
            // event 객체인 e에는 preventDefault라는 매서드가 존재한다.
            // 이 매서드의 기능은 해당 이벤트의 기본동작을 방지하는 것이다.
</script>

<!-- 이벤트 위임 -->

<!-- <div id="form">
    <input type="text" id="todo">
    <button id="btnAdd">추가</button>
</div>
<div id="list">
    <div class="todo-item">
        테스트용 1 입니다.
    </div> 
    <div class="todo-item">
        테스트용 2 입니다.
    </div>
</div> -->

<script>
    // window.onload = function(){
    //     const todo = document.querySelector("#todo");
    //     const list = document.querySelector("#list"); //querySelector는 값을 가져온다.

    //     //아이템 클릭시 내용을 출력해줌 
    //     // document.querySelectorAll(".todo-item").forEach(item => { //qureySelectorAll은 배열 여러개의 값을 가져온다.
    //     //     item.addEventListener("click", e => alert(e.target.innerHTML)); //innerHMLT로 값을 가져온다.
    //     // })

    //     list.addEventListener("click", e => {
    //         if(e.target.classList.contains("todo-item")){
    //             alert(e.target.innerHTML);
    //         }
    //     });
    //     //위 코드와 같은 기능을 수행하지만 이 코드는 이벤트를 해당 객체가 아닌 해당 객체의 부모에게 줌으로서 부모에게 이벤트 발생시 
    //     // 이벤트를 발생시킨 것이 자식이라면 그 때 작업을 수행하도록 하는 것, 이를 이벤트 위임이라고 부른다.
    //     // 이를 통해 동적으로 문서위에 나타나는 오브젝트들에 대해서 이벤트를 부여할 수 있게 된다.

    //     //버튼 클릭시 입력한 텍스트를 할일로 넣어주는 코드
    //     document.querySelector("#btnAdd").addEventListener("click", e => {
    //         if(todo.value != ""){
    //             let div = document.createElement("div");
    //             div.classList.add(".todo-item");
    //             div.innerHTML = todo.value; //입력한 값을 넣어서 생성한다.
    //             div.addEventListener("click", e => alert(e.target.innerHTML)); 
    //             // 이 줄을 추가해주면 이벤트 리스너가 동작하게 되어서 새롭게 추가된 작업도 정상적으로 동작한다.
    //             list.appendChild(div);
    //             todo.value = ""; //공백으로 변경
    //         }
    //     });
    // }
</script>

<table>
    <tr>
        <td>
            <img src="imgs/붕어빵.jpg" alt="image1" id="image1" width="200px" height="140px">
        </td>
        <td>
            <img src="imgs/호떡.jpg" alt="image2" id="image2" width="200px" height="140px">
        </td>
    </tr>

</table>

<button id="swapBtn">교체</button>

<script>
        let img1 = document.querySelector("#image1");
        let img2 = document.querySelector("#image2");
        
        document.querySelector("#swapBtn").addEventListener("click", e =>{
            // let temp = img1.src;
            // img1.src = img2.src;
            // img2.src = temp;

            let temp = img1.getAttribute("src");
            img1.setAttribute("src", img2.getAttribute("src"));
            img2.setAttribute("src", temp);
        });

        

</script>








</body>
</html>